#!/bin/sh
#
# Automatically build labwc
#

builddir=build-clang

if ! [ -e subprojects/wlroots ]; then
	git clone https://github.com/swaywm/wlroots subprojects/wlroots
fi


if ! [ -e ${builddir} ]; then
	CC=clang meson -Dwlroots:default_library=static ${builddir}
	# To enable ASAN and UBSAN, run meson with
	# `-Db_sanitize=address,undefined`
fi

ninja -C ${builddir}
